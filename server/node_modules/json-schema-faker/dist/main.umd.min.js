!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("json-schema-ref-parser"),require("jsonpath-plus")):"function"==typeof define&&define.amd?define(["json-schema-ref-parser","jsonpath-plus"],t):(e=e||self).JSONSchemaFaker=t(e.$RefParser,e.jsonpathPlus)}(this,(function(e,t){e=e&&{}.hasOwnProperty.call(e,"default")?e["default"]:e;var r=function(){this.data={}};r.prototype.unregister=function(e){e?delete this.data[e]:this.data={}},r.prototype.register=function(e,t){this.data[e]=t},r.prototype.registerMany=function(e){var t=this;Object.keys(e).forEach((function(r){t.data[r]=e[r]}))},r.prototype.get=function(e){return this.data[e]},r.prototype.list=function(){return this.data};var n={};n.defaultInvalidTypeProduct=undefined,n.defaultRandExpMax=10,n.ignoreProperties=[],n.ignoreMissingRefs=!1,n.failOnInvalidTypes=!0,n.failOnInvalidFormat=!0,n.alwaysFakeOptionals=!1,n.optionalsProbability=null,n.fixedProbabilities=!1,n.useExamplesValue=!1,n.useDefaultValue=!1,n.requiredOnly=!1,n.minItems=0,n.maxItems=null,n.minLength=0,n.maxLength=null,n.resolveJsonPath=!1,n.reuseProperties=!1,n.fillProperties=!0,n.replaceEmptyByRandomValue=!1,n.random=Math.random;var i=new(function(e){function t(){e.call(this),this.data=Object.assign({},n),this._defaults=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={defaults:{configurable:!0}};return r.defaults.get=function(){return Object.assign({},this._defaults)},Object.defineProperties(t.prototype,r),t}(r));function a(e,t){return"string"==typeof e?void 0!==t?i.register(e,t):i.get(e):i.registerMany(e)}a.getDefaults=function(){return i.defaults};var o=["integer","number","string","boolean","null"],s={SCALAR_TYPES:o,ALL_TYPES:["array","object"].concat(o),MIN_NUMBER:-100,MAX_NUMBER:100,MIN_INTEGER:-1e8,MAX_INTEGER:1e8,MOST_NEAR_DATETIME:2524608e6};var u={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7};const f=()=>[{type:u.RANGE,from:48,to:57}],c=()=>[{type:u.CHAR,value:95},{type:u.RANGE,from:97,to:122},{type:u.RANGE,from:65,to:90}].concat(f()),l=()=>[{type:u.CHAR,value:9},{type:u.CHAR,value:10},{type:u.CHAR,value:11},{type:u.CHAR,value:12},{type:u.CHAR,value:13},{type:u.CHAR,value:32},{type:u.CHAR,value:160},{type:u.CHAR,value:5760},{type:u.RANGE,from:8192,to:8202},{type:u.CHAR,value:8232},{type:u.CHAR,value:8233},{type:u.CHAR,value:8239},{type:u.CHAR,value:8287},{type:u.CHAR,value:12288},{type:u.CHAR,value:65279}],h=()=>[{type:u.CHAR,value:10},{type:u.CHAR,value:13},{type:u.CHAR,value:8232},{type:u.CHAR,value:8233}];var p=()=>({type:u.SET,set:c(),not:!1}),m=()=>({type:u.SET,set:c(),not:!0}),d=()=>({type:u.SET,set:f(),not:!1}),g=()=>({type:u.SET,set:f(),not:!0}),y=()=>({type:u.SET,set:l(),not:!1}),v=()=>({type:u.SET,set:l(),not:!0}),b=()=>({type:u.SET,set:h(),not:!0}),x=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){const r={0:0,t:9,n:10,v:11,f:12,r:13};t.strToChars=function(e){return e=e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g,(function(e,t,n,i,a,o,s,u){if(n)return e;var f=t?8:i?parseInt(i,16):a?parseInt(a,16):o?parseInt(o,8):s?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(s):r[u],c=String.fromCharCode(f);return/[[\]{}^$.|?*+()]/.test(c)&&(c="\\"+c),c}))},t.tokenizeClass=(e,r)=>{for(var n,i,a=[],o=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g;null!=(n=o.exec(e));)if(n[1])a.push(p());else if(n[2])a.push(d());else if(n[3])a.push(y());else if(n[4])a.push(m());else if(n[5])a.push(g());else if(n[6])a.push(v());else if(n[7])a.push({type:u.RANGE,from:(n[8]||n[9]).charCodeAt(0),to:n[10].charCodeAt(0)});else{if(!(i=n[12]))return[a,o.lastIndex];a.push({type:u.CHAR,value:i.charCodeAt(0)})}t.error(r,"Unterminated character class")},t.error=(e,t)=>{throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)}})),O=(x.strToChars,x.tokenizeClass,x.error,()=>({type:u.POSITION,value:"b"})),E=()=>({type:u.POSITION,value:"B"}),w=()=>({type:u.POSITION,value:"^"}),A=()=>({type:u.POSITION,value:"$"}),I=e=>{var t,r,n=0,i={type:u.ROOT,stack:[]},a=i,o=i.stack,s=[],f=t=>{x.error(e,`Nothing to repeat at column ${t-1}`)},c=x.strToChars(e);for(t=c.length;n<t;)switch(r=c[n++]){case"\\":switch(r=c[n++]){case"b":o.push(O());break;case"B":o.push(E());break;case"w":o.push(p());break;case"W":o.push(m());break;case"d":o.push(d());break;case"D":o.push(g());break;case"s":o.push(y());break;case"S":o.push(v());break;default:/\d/.test(r)?o.push({type:u.REFERENCE,value:parseInt(r,10)}):o.push({type:u.CHAR,value:r.charCodeAt(0)})}break;case"^":o.push(w());break;case"$":o.push(A());break;case"[":var l;"^"===c[n]?(l=!0,n++):l=!1;var h=x.tokenizeClass(c.slice(n),e);n+=h[1],o.push({type:u.SET,set:h[0],not:l});break;case".":o.push(b());break;case"(":var I={type:u.GROUP,stack:[],remember:!0};"?"===(r=c[n])&&(r=c[n+1],n+=2,"="===r?I.followedBy=!0:"!"===r?I.notFollowedBy=!0:":"!==r&&x.error(e,`Invalid group, character '${r}'`+` after '?' at column ${n-1}`),I.remember=!1),o.push(I),s.push(a),a=I,o=I.stack;break;case")":0===s.length&&x.error(e,`Unmatched ) at column ${n-1}`),o=(a=s.pop()).options?a.options[a.options.length-1]:a.stack;break;case"|":a.options||(a.options=[a.stack],delete a.stack);var k=[];a.options.push(k),o=k;break;case"{":var R,M,j=/^(\d+)(,(\d+)?)?\}/.exec(c.slice(n));null!==j?(0===o.length&&f(n),R=parseInt(j[1],10),M=j[2]?j[3]?parseInt(j[3],10):Infinity:R,n+=j[0].length,o.push({type:u.REPETITION,min:R,max:M,value:o.pop()})):o.push({type:u.CHAR,value:123});break;case"?":0===o.length&&f(n),o.push({type:u.REPETITION,min:0,max:1,value:o.pop()});break;case"+":0===o.length&&f(n),o.push({type:u.REPETITION,min:1,max:Infinity,value:o.pop()});break;case"*":0===o.length&&f(n),o.push({type:u.REPETITION,min:0,max:Infinity,value:o.pop()});break;default:o.push({type:u.CHAR,value:r.charCodeAt(0)})}return 0!==s.length&&x.error(e,"Unterminated group"),i};class k{constructor(e,t){this.low=e,this.high=t,this.length=1+t-e}overlaps(e){return!(this.high<e.low||this.low>e.high)}touches(e){return!(this.high+1<e.low||this.low-1>e.high)}add(e){return new k(Math.min(this.low,e.low),Math.max(this.high,e.high))}subtract(e){return e.low<=this.low&&e.high>=this.high?[]:e.low>this.low&&e.high<this.high?[new k(this.low,e.low-1),new k(e.high+1,this.high)]:e.low<=this.low?[new k(e.high+1,this.high)]:[new k(this.low,e.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}class R{constructor(e,t){this.ranges=[],this.length=0,null!=e&&this.add(e,t)}_update_length(){this.length=this.ranges.reduce((e,t)=>e+t.length,0)}add(e,t){var r=e=>{for(var t=0;t<this.ranges.length&&!e.touches(this.ranges[t]);)t++;for(var r=this.ranges.slice(0,t);t<this.ranges.length&&e.touches(this.ranges[t]);)e=e.add(this.ranges[t]),t++;r.push(e),this.ranges=r.concat(this.ranges.slice(t)),this._update_length()};return e instanceof R?e.ranges.forEach(r):(null==t&&(t=e),r(new k(e,t))),this}subtract(e,t){var r=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(var r=this.ranges.slice(0,t);t<this.ranges.length&&e.overlaps(this.ranges[t]);)r=r.concat(this.ranges[t].subtract(e)),t++;this.ranges=r.concat(this.ranges.slice(t)),this._update_length()};return e instanceof R?e.ranges.forEach(r):(null==t&&(t=e),r(new k(e,t))),this}intersect(e,t){var r=[],n=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(;t<this.ranges.length&&e.overlaps(this.ranges[t]);){var n=Math.max(this.ranges[t].low,e.low),i=Math.min(this.ranges[t].high,e.high);r.push(new k(n,i)),t++}};return e instanceof R?e.ranges.forEach(n):(null==t&&(t=e),n(new k(e,t))),this.ranges=r,this._update_length(),this}index(e){for(var t=0;t<this.ranges.length&&this.ranges[t].length<=e;)e-=this.ranges[t].length,t++;return this.ranges[t].low+e}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new R(this)}numbers(){return this.ranges.reduce((e,t)=>{for(var r=t.low;r<=t.high;)e.push(r),r++;return e},[])}subranges(){return this.ranges.map(e=>({low:e.low,high:e.high,length:1+e.high-e.low}))}}var M=R;const j=I.types=u;var P=class e{constructor(e,t){if(this._setDefaults(e),e instanceof RegExp)this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,e=e.source;else{if("string"!=typeof e)throw new Error("Expected a regexp or string");this.ignoreCase=t&&-1!==t.indexOf("i"),this.multiline=t&&-1!==t.indexOf("m")}this.tokens=I(e)}_setDefaults(t){this.max=null!=t.max?t.max:null!=e.prototype.max?e.prototype.max:100,this.defaultRange=t.defaultRange?t.defaultRange:this.defaultRange.clone(),t.randInt&&(this.randInt=t.randInt)}gen(){return this._gen(this.tokens,[])}_gen(e,t){var r,n,i,a,o;switch(e.type){case j.ROOT:case j.GROUP:if(e.followedBy||e.notFollowedBy)return"";for(e.remember&&e.groupNumber===undefined&&(e.groupNumber=t.push(null)-1),n="",a=0,o=(r=e.options?this._randSelect(e.options):e.stack).length;a<o;a++)n+=this._gen(r[a],t);return e.remember&&(t[e.groupNumber]=n),n;case j.POSITION:return"";case j.SET:var s=this._expand(e);return s.length?String.fromCharCode(this._randSelect(s)):"";case j.REPETITION:for(i=this.randInt(e.min,e.max===Infinity?e.min+this.max:e.max),n="",a=0;a<i;a++)n+=this._gen(e.value,t);return n;case j.REFERENCE:return t[e.value-1]||"";case j.CHAR:var u=this.ignoreCase&&this._randBool()?this._toOtherCase(e.value):e.value;return String.fromCharCode(u)}}_toOtherCase(e){return e+(97<=e&&e<=122?-32:65<=e&&e<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(e){return e instanceof M?e.index(this.randInt(0,e.length-1)):e[this.randInt(0,e.length-1)]}_expand(e){if(e.type===I.types.CHAR)return new M(e.value);if(e.type===I.types.RANGE)return new M(e.from,e.to);{let t=new M;for(let r=0;r<e.set.length;r++){let n=this._expand(e.set[r]);if(t.add(n),this.ignoreCase)for(let e=0;e<n.length;e++){let r=n.index(e),i=this._toOtherCase(r);r!==i&&t.add(i)}}return e.not?this.defaultRange.clone().subtract(t):this.defaultRange.clone().intersect(t)}}randInt(e,t){return e+Math.floor(Math.random()*(1+t-e))}get defaultRange(){return this._range=this._range||new M(32,126)}set defaultRange(e){this._range=e}static randexp(t,r){var n;return"string"==typeof t&&(t=new RegExp(t,r)),t._randexp===undefined?(n=new e(t,r),t._randexp=n):(n=t._randexp)._setDefaults(t),n.gen()}static sugar(){RegExp.prototype.gen=function(){return e.randexp(this)}}};function S(e,t,r,n,i){return void 0===i&&(i=!1),r=void 0===r?s.MIN_NUMBER:r,n=void 0===n?s.MAX_NUMBER:n,(t=void 0===t?n:t)<(e=void 0===e?r:e)&&(t+=e),i?function(e,t){return a("random")()*(t-e)+e}(e,t):function(e,t){return e=void 0===e?s.MIN_INTEGER:e,t=void 0===t?s.MAX_INTEGER:t,Math.floor(a("random")()*(t-e+1))+e}(e,t)}var _={pick:function(e){return e[Math.floor(a("random")()*e.length)]},date:function(e){if(e)return function(e){switch(e){case"seconds":return 60*S(0,60);case"minutes":return 612*S(15,50);case"hours":return 36123*S(12,72);case"days":return 86412345*S(7,30);case"weeks":return 604812345*S(4,52);case"months":return 2592012345*S(2,13);case"years":return 31104012345*S(1,20)}}(e);var t=new Date,r=S(-1e3,s.MOST_NEAR_DATETIME);return t.setTime(t.getTime()-r),t},shuffle:function(e){for(var t,r,n=e.length,i=e.slice();n>0;)r=Math.floor(a("random")()*n),t=i[n-=1],i[n]=i[r],i[r]=t;return i},number:S,randexp:function(e){return P.prototype.max=a("defaultRandExpMax"),P.prototype.randInt=function(e,t){return e+Math.floor(a("random")()*(t-e+1))},new P(e).gen()}};function T(e,t){return Object.keys(t).forEach((function(r){"object"!=typeof t[r]||null===t[r]?e[r]=t[r]:Array.isArray(t[r])?(e[r]=e[r]||[],t[r].forEach((function(t){Array.isArray(e[r])&&-1===e[r].indexOf(t)&&e[r].push(t)}))):"object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?e[r]=T({},t[r]):e[r]=T(e[r],t[r])})),e}function C(){return _.pick([!1,!0,null,-1,NaN,Math.PI,Infinity,undefined,[],{},Math.random(),Math.random().toString(36).substr(2)])}function N(e,t){var r=t.minimum!==undefined,n=t.maximum!==undefined;return(r||n)&&(!r||e>=t.minimum)&&(!n||e<=t.maximum)}function L(e){return"[object Object]"==={}.toString.call(e)&&!Object.keys(e).length}function $(e,t){var r=Array.isArray(t.required)&&t.required.includes(e),n="function"==typeof t.thunk||t.additionalProperties&&"function"==typeof t.additionalProperties.thunk;return!r&&!n}var H={hasProperties:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return t.filter((function(t){return"undefined"!=typeof e[t]})).length>0},getLocalRef:function(e,t){for(var r=t.replace(/^.*#\//,"").split("/");r.length;){var n=r.shift();if(!e[n])throw new Error("Prop '"+n+"' not found in ["+Object.keys(e).join(", ")+"] ("+t+")");e=e[n]}return e},omitProps:function(e,t){return Object.keys(e).filter((function(e){return!t.includes(e)})).reduce((function(t,r){return Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]instanceof Object?T({},e[r]):e[r],t}),{})},typecast:function(e,t,r){var n={};switch(e||t.type){case"integer":case"number":if("undefined"!=typeof t.minimum&&(n.minimum=t.minimum),"undefined"!=typeof t.maximum&&(n.maximum=t.maximum),t["enum"]){var i=Math.max(n.minimum||0,0),o=Math.min(n.maximum||Infinity,Infinity);t.exclusiveMinimum&&i===t.minimum&&(i+=t.multipleOf||1),t.exclusiveMaximum&&o===t.maximum&&(o-=t.multipleOf||1),(i||o!==Infinity)&&(t["enum"]=t["enum"].filter((function(e){return e>=i&&e<=o})))}break;case"string":n.minLength=a("minLength")||0,n.maxLength=a("maxLength")||Number.MAX_SAFE_INTEGER,"undefined"!=typeof t.minLength&&(n.minLength=Math.max(n.minLength,t.minLength)),"undefined"!=typeof t.maxLength&&(n.maxLength=Math.min(n.maxLength,t.maxLength))}var s=r(n);if(null===s||s===undefined)return null;switch(e||t.type){case"number":s=parseFloat(s);break;case"integer":s=parseInt(s,10);break;case"boolean":s=!!s;break;case"string":s=String(s);for(var u,f=Math.max(n.minLength||0,0),c=Math.min(n.maxLength||Infinity,Infinity);s.length<f&&(u=s,t.pattern?s+=_.randexp(t.pattern):s+=""+_.pick([" ","/","_","-","+","=","@","^"])+s,s!==u););switch(s.length>c&&(s=s.substr(0,c)),t.format){case"date-time":case"datetime":s=new Date(s).toISOString().replace(/([0-9])0+Z$/,"$1Z");break;case"date":s=new Date(s).toISOString().substr(0,10);break;case"time":s=new Date("1969-01-01 "+s).toISOString().substr(11)}}return s},merge:T,clone:function me(e,t){if(void 0===t&&(t=new Map),!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);if(Array.isArray(e)){var r=[];return t.set(e,r),r.push.apply(r,e.map((function(e){return me(e,t)}))),r}var n={};return t.set(e,n),Object.keys(e).reduce((function(r,n){return r[n]=me(e[n],t),r}),n)},short:function(e){var t=JSON.stringify(e),r=JSON.stringify(e,null,2);return t.length>400?r.substr(0,400)+"...":r},notValue:function(e,t){var r=T({},t);if("undefined"!=typeof e.minimum&&(r.maximum=e.minimum,r.exclusiveMaximum=!0),"undefined"!=typeof e.maximum&&(r.minimum=e.maximum>r.maximum?0:e.maximum,r.exclusiveMinimum=!0),"undefined"!=typeof e.minLength&&(r.maxLength=e.minLength),"undefined"!=typeof e.maxLength&&(r.minLength=e.maxLength>r.maxLength?0:e.maxLength),e.type)r.type=_.pick(s.SCALAR_TYPES.filter((function(t){return(Array.isArray(e.type)?e.type:[e.type]).every((function(e){return"number"===t||"integer"===t?"number"!==e&&"integer"!==e:t!==e}))})));else if(e["enum"]){var n;do{n=C()}while(-1!==e["enum"].indexOf(n));r["enum"]=[n]}return e.required&&r.properties&&e.required.forEach((function(e){delete r.properties[e]})),r},anyValue:C,validate:function(e,t){return!t.every((function(t){return N(e,t)}))},validateValueForSchema:N,validateValueForOneOf:function(e,t){return 1===t.reduce((function(t,r){return t+(N(e,r)?1:0)}),0)},isKey:function(e){return["enum","const","default","examples","required","definitions","items","properties"].includes(e)},template:function de(e,t){return Array.isArray(e)?e.map((function(e){return de(e,t)})):("string"==typeof e&&(e=e.replace(/#\{([\w.-]+)\}/g,(function(e,r){return t[r]}))),e)},shouldClean:$,clean:function ge(e,t,r){return void 0===r&&(r=!1),e&&"object"==typeof e?Array.isArray(e)?e.map((function(e){return ge(e,t,!0)})).filter((function(e){return void 0!==e})):(Object.keys(e).forEach((function(r){if(L(e[r]))$(r,t)&&delete e[r];else{var n=ge(e[r],t);L(n)||(e[r]=n)}"undefined"==typeof e[r]&&delete e[r]})),!Object.keys(e).length&&r?undefined:e):e},isEmpty:L};var q=function(){this.registry={},this.support={}};q.prototype.reset=function(e){e?(delete this.registry[e],delete this.support[e]):(this.registry={},this.support={})},q.prototype.extend=function(e,t){var r,n=this;this.registry[e]=t(this.registry[e]),this.support[e]||(this.support[e]=(r=function(){return n.registry[e]},function(e,t,n,i){var a=e,o=[];"object"==typeof e&&(a=Object.keys(e)[0],Array.isArray(e[a])?o=e[a]:o.push(e[a]));for(var s=a.split("."),u=r();s.length>1;)u=u[s.shift()];return"function"==typeof(e="object"==typeof u?u[s[0]]:u)&&(e=e.apply(u,o.map((function(e){return H.template(e,i)})))),"[object Object]"==={}.toString.call(e)&&Object.keys(e).forEach((function(t){if("function"==typeof e[t])throw new Error("Cannot resolve value for '"+n+": "+a+"', given: "+e)})),e}))},q.prototype.define=function(e,t){this.support[e]=t},q.prototype.get=function(e){if("undefined"==typeof this.registry[e])throw new ReferenceError("'"+e+"' dependency doesn't exist.");return this.registry[e]},q.prototype.wrap=function(e){for(var t=this,r=Object.keys(e),n={},i=r.length,a=function(){var a=r[i].replace(/^x-/,""),o=t.support[a];if("function"==typeof o)return Object.defineProperty(e,"generate",{configurable:!1,enumerable:!1,writable:!1,value:function(t){return o.call(n,e[r[i]],e,r[i],t)}}),"break"};i--;){if("break"===a())break}return e};var D=new r;function F(e,t){if(void 0===e)return D.list();if("string"==typeof e)if("function"==typeof t)D.register(e,t);else{if(null!==t&&!1!==t)return D.get(e);D.unregister(e)}else D.registerMany(e)}var G=function(e){function t(t,r){e.call(this),e.captureStackTrace&&e.captureStackTrace(this,this.constructor),this.name="ParseError",this.message=t,this.path=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),z={array:["additionalItems","items","maxItems","minItems","uniqueItems"],integer:["exclusiveMaximum","exclusiveMinimum","maximum","minimum","multipleOf"],object:["additionalProperties","dependencies","maxProperties","minProperties","patternProperties","properties","required"],string:["maxLength","minLength","pattern","format"]};z.number=z.integer;var B=["additionalItems","items","additionalProperties","dependencies","patternProperties","properties"];function U(e,t,r){return Object.keys(e).filter((function(e){var n=B.indexOf(t)>-1;return!(!(r.indexOf(e)>-1)||n)})).length>0}var V=function(){return a("random")()>.5};var Z=function(){return null};function J(e){var t="undefined"==typeof e.minimum?s.MIN_INTEGER:e.minimum,r="undefined"==typeof e.maximum?s.MAX_INTEGER:e.maximum,n=e.multipleOf;if(n&&(r=Math.floor(r/n)*n,t=Math.ceil(t/n)*n),e.exclusiveMinimum&&t===e.minimum&&(t+=n||1),e.exclusiveMaximum&&r===e.maximum&&(r-=n||1),t>r)return NaN;if(n){if(-1===String(n).indexOf(".")){for(var i=_.number(Math.floor(t/n),Math.floor(r/n))*n;i<t;)i+=e.multipleOf;return i}var a,o,u=(r-t)/n;do{o=(a=_.number(0,u)*n)/n%1}while(0!==o);return t+a}return _.number(t,r,undefined,undefined,!0)}var X="Lorem ipsum dolor sit amet consectetur adipisicing elit sed do eiusmod tempor incididunt ut labore\net dolore magna aliqua Ut enim ad minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea\ncommodo consequat Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla\npariatur Excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt mollit anim id est\nlaborum".split(/\W/);function W(e){return _.shuffle(X).slice(0,e)}var Y={type:["string","number","integer","boolean"]};function K(){return W(_.number(1,5)).join(" ")}function Q(e,t){void 0===e&&(e=0),void 0===t&&(t=140);for(var r=Math.max(0,e),n=_.number(r,t),i=K();i.length<r;)i+=K();return i.length>n&&(i=i.substr(0,n)),i}function ee(){return _.date().toISOString()}var te="https?://{hostname}(?:[a-zA-Z][a-zA-Z0-9+-.]*)+",re={email:"[a-zA-Z\\d][a-zA-Z\\d-]{1,13}[a-zA-Z\\d]@{hostname}",hostname:"[a-zA-Z]{1,33}\\.[a-z]{2,4}",ipv6:"[a-f\\d]{4}(:[a-f\\d]{4}){7}",uri:te,slug:"[a-zA-Z\\d_-]+","uri-reference":te+"(?:\\?([a-z]{1,7}(=\\w{1,5})?&){0,3})?","uri-template":te.replace("(?:","(?:/\\{[a-z][:a-zA-Z0-9-]*\\}|"),"json-pointer":"(/(?:"+"[a-zA-Z][a-zA-Z0-9+-.]*".replace("]*","/]*")+"|~[01]))+",uuid:"^[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$"};re.iri=re["uri-reference"],re["iri-reference"]=re["uri-reference"],re["idn-email"]=re.email,re["idn-hostname"]=re.hostname;var ne=new RegExp("\\{("+Object.keys(re).join("|")+")\\}");function ie(e,t){var r,n=F(e.format);if("function"==typeof n)return n(e);switch(e.format){case"date-time":case"datetime":return ee();case"date":return ee().slice(0,10);case"time":return ee().slice(11);case"ipv4":return[0,0,0,0].map((function(){return _.number(0,255)})).join(".");case"regex":return".+?";case"email":case"hostname":case"ipv6":case"uri":case"uri-reference":case"iri":case"iri-reference":case"idn-email":case"idn-hostname":case"json-pointer":case"slug":case"uri-template":case"uuid":return r=e.format,_.randexp(re[r]).replace(ne,(function(e,t){return _.randexp(re[t])}));default:if(void 0===n){if(a("failOnInvalidFormat"))throw new Error("unknown registry key "+H.short(e.format));return t()}throw new Error("unsupported format '"+e.format+"'")}}var ae={boolean:V,"null":Z,array:function(e,t,r,n){var i=[];if(!e.items&&!e.additionalItems){if(H.hasProperties(e,"minItems","maxItems","uniqueItems"))throw new G("missing items for "+H.short(e),t);return i}if(Array.isArray(e.items))return e.items.map((function(e,i){var a=t.concat(["items",i]);return n(e,a,r)}));var o=e.minItems,s=e.maxItems,u=a("minItems"),f=a("maxItems");u&&(o=void 0===o?u:Math.min(u,o)),f&&((s=void 0===s?f:Math.min(f,s))&&s>f&&(s=f),o&&o>f&&(o=s));var c=!0===a("alwaysFakeOptionals")?1:a("optionalsProbability"),l=a("alwaysFakeOptionals")||a("fixedProbabilities")||!1,h=_.number(o,s,1,5);null!==c&&(h=Math.max(l?Math.round((s||h)*c):Math.abs(_.number(o,s)*c),o||0));for(var p="object"==typeof e.additionalItems?e.additionalItems:{},m=i.length;m<h;m+=1){var d=t.concat(["items",m]),g=n(e.items||p,d,r);i.push(g)}return e.uniqueItems?function(e,t,r,n,i,a){var o=[],s=[];function u(e){var t=JSON.stringify(e);return-1===s.indexOf(t)&&(s.push(t),o.push(e),!0)}t.forEach(u);for(var f=100;o.length!==t.length&&(u(a(r.items||n,e,i))||(f-=1),f););return o}(t.concat(["items"]),i,e,p,r,n):i},integer:function(e){return J(Object.assign({multipleOf:1},e))},number:J,object:function(e,t,r,n){var i={},o=e.properties||{},s=e.patternProperties||{},u="boolean"==typeof e.required?[]:(e.required||[]).slice(),f=!1!==e.additionalProperties,c=Object.keys(o),l=Object.keys(s),h=c.concat(l).reduce((function(e,t){return-1===u.indexOf(t)&&e.push(t),e}),[]),p=u.concat(h),m=f&&!0===e.additionalProperties?Y:e.additionalProperties;if(!f&&0===c.length&&0===l.length&&H.hasProperties(e,"minProperties","maxProperties","dependencies","required"))return null;if(!0===a("requiredOnly"))return u.forEach((function(e){o[e]&&(i[e]=o[e])})),n(i,t.concat(["properties"]),r,e);var d=!0===a("alwaysFakeOptionals")?1:a("optionalsProbability"),g=a("alwaysFakeOptionals")||a("fixedProbabilities")||!1,y=a("ignoreProperties")||[],v=a("reuseProperties"),b=a("fillProperties"),x=e.maxProperties||p.length+(f?_.number(1,5):0),O=Math.max(e.minProperties||0,u.length),E=Math.max(0,p.length-O);1!==p.length||u.length||(O=Math.max(_.number(b?1:0,x),O)),null!==d&&(E=!0===g?Math.round(O-u.length+d*(p.length-O)):_.number(O-u.length,d*(p.length-O)));var w=_.shuffle(h).slice(0,E),A=h.filter((function(e){return-1!==w.indexOf(e)})),I=null!==d?x:_.number(0,x),k=u.concat(_.shuffle(A).slice(0,I)),R=[];if(e.dependencies&&(Object.keys(e.dependencies).forEach((function(t){var r=e.dependencies[t];-1!==k.indexOf(t)&&(Array.isArray(r)?r.forEach((function(e){-1===k.indexOf(e)&&k.push(e)})):R.push(r))})),R.length))return delete e.dependencies,n({allOf:R.concat(e)},t.concat(["properties"]),r,e);var M=[];k.forEach((function(e){for(var t=0;t<y.length;t+=1)if(y[t]instanceof RegExp&&y[t].test(e)||"string"==typeof y[t]&&y[t]===e||"function"==typeof y[t]&&y[t](o[e],e))return void M.push(e);var r;if(!1===m&&-1!==u.indexOf(e)&&(i[e]=o[e]),o[e]&&(i[e]=o[e]),l.forEach((function(t){e.match(new RegExp(t))&&(r=!0,i[e]?H.merge(i[e],s[t]):i[_.randexp(e)]=s[t])})),!r){var n=s[e]||m;n&&!1!==m&&(i[s[e]?_.randexp(e):e]=o[e]||n)}}));var j=Object.keys(i).length+(b?0:M.length);function P(e){var t;do{if(!e.length)break;t=e.shift()}while(i[t]);return t}var S,T=O;for(f&&!u.length&&(T=Math.max(null===d||m?_.number(b?1:0,x):0,O));b&&(l.length||f)&&!(j>=T);){if(f)if(v&&c.length-j>T){var C=0,N=void 0;do{if((C+=1)>1e3)break;N=P(u)||_.pick(c)}while("undefined"!=typeof i[N]);"undefined"==typeof i[N]&&(i[N]=o[N],j+=1)}else if(l.length&&!m){var L=_.pick(l),$=_.randexp(L);i[$]||(i[$]=s[L],j+=1)}else{var q=P(u)||W(1)+(S=void 0,_.randexp("_?[_a-f\\d]{1,3}"+(S?"\\$?":"")));i[q]||(i[q]=m||Y,j+=1)}for(var D=0;j<O&&D<l.length;D+=1){var F=l[D],G=_.randexp(F);i[G]||(i[G]=s[F],j+=1)}}if(0===u.length&&(!f||!1===d))for(var z=_.number(O,x);j<z;){var B=P(c);B&&(i[B]=o[B]),j+=1}return n(i,t.concat(["properties"]),r,e)},string:function(e){return H.typecast("string",e,(function(t){return e.format?ie(e,(function(){return Q(t.minLength,t.maxLength)})):e.pattern?_.randexp(e.pattern):Q(t.minLength,t.maxLength)}))}};function oe(e,t,r,n){if(e=r(e,null,t)){if("properties"!==t[t.length-1]){if(a("useExamplesValue")&&Array.isArray(e.examples)){var i=e.examples.concat("default"in e?[e["default"]]:[]);return H.typecast(null,e,(function(){return _.pick(i)}))}if(a("useDefaultValue")&&"default"in e&&(""!==e["default"]||!a("replaceEmptyByRandomValue")))return e["default"];if("template"in e)return H.template(e.template,n);if("const"in e)return e["const"]}if(e.not&&"object"==typeof e.not&&(e=H.notValue(e.not,H.omitProps(e,["not"]))).type&&"object"===e.type){var o=oe(e,t.concat(["not"]),r,n);return H.clean(o,e,!1)}if("function"==typeof e.thunk)return oe(e.thunk(n),t,r);if("function"==typeof e.generate)return H.typecast(null,e,(function(){return e.generate(n)}));if("string"==typeof e.pattern)return H.typecast("string",e,(function(){return _.randexp(e.pattern)}));if(Array.isArray(e["enum"]))return H.typecast(null,e,(function(){return _.pick(e["enum"])}));if(e.jsonPath)return e;var s=e.type;if(Array.isArray(s)?s=_.pick(s):void 0===s&&(s=function(e,t){for(var r=Object.keys(z),n=0;n<r.length;n+=1){var i=r[n];if(U(e,t[t.length-1],z[i]))return i}}(e,t)||s)&&(e.type=s),"string"==typeof s){if(!ae[s]){if(a("failOnInvalidTypes"))throw new G("unknown primitive "+H.short(s),t.concat(["type"]));var u=a("defaultInvalidTypeProduct");return"string"==typeof u&&ae[u]?ae[u](e,t,r,oe):u}try{return ae[s](e,t,r,oe)}catch(c){if("undefined"==typeof c.path)throw new G(c.stack,t);throw c}}var f={};return Array.isArray(e)&&(f=[]),Object.keys(e).forEach((function(n){if("object"==typeof e[n]&&"definitions"!==n){var i=oe(e[n],t.concat([n]),r,f);f[n]=H.clean(i,e[n],!1)}else f[n]=e[n]})),f}}var se=function(e){var t,r=e.refs,n=e.schema,i=e.container,o=e.refDepthMax,s=e.refDepthMin,u={},f={},c=0;return u.resolveSchema=function(e,l,h){if(null===e||e===undefined)return null;if("function"==typeof e.generate)return e;if("string"==typeof(e.$id||e.id)&&(delete e.id,delete e.$id,delete e.$schema),"string"==typeof e.$ref){var p,m=Math.max(s,o)-1;if("#"===e.$ref||f[e.$ref]<0||t===e.$ref&&++c>m)return delete e.$ref,e;if("undefined"==typeof f[e.$ref]&&(f[e.$ref]=_.number(s,o)-1),t=e.$ref,void 0!==(p=-1===e.$ref.indexOf("#/")?r[e.$ref]||null:H.getLocalRef(n,e.$ref)||null)){if(!p&&!0!==a("ignoreMissingRefs"))throw new Error("Reference not found: "+e.$ref);f[e.$ref]-=1,H.merge(e,p||{})}return delete e.$ref,e}if(Array.isArray(e.allOf)){var d=e.allOf;delete e.allOf,d.forEach((function(t){var r=u.resolveSchema(t,null,h);H.merge(e,"function"==typeof r.thunk?r.thunk(e):r),Array.isArray(e.allOf)&&u.resolveSchema(e,l,h)}))}if(Array.isArray(e.oneOf||e.anyOf)){var g=e.oneOf||e.anyOf;return e["enum"]&&e.oneOf&&(e["enum"]=e["enum"].filter((function(e){return H.validate(e,g)}))),{thunk:function(t){var r=H.omitProps(e,["anyOf","oneOf"]),n=_.pick(g);return H.merge(r,n),g.forEach((function(e){e.required&&e!==n&&e.required.forEach((function(e){var n=r.required&&r.required.includes(e);r.properties&&!n&&delete r.properties[e],t&&t.properties&&delete t.properties[e]}))})),r}}}if(Object.keys(e).forEach((function(t){!Array.isArray(e[t])&&"object"!=typeof e[t]||H.isKey(t)||(e[t]=u.resolveSchema(e[t],t,h.concat(t)))})),h){var y=h[h.length-1];if("properties"===y||"items"===y)return e}return i.wrap(e)},u};function ue(e,r,n,i){if(!e||"object"!=typeof e)return e;if(n||(n={}),r||(r=e),Array.isArray(e))return e.map((function(e){return ue(e,r,n,i)}));if(e.jsonPath){var a="object"!=typeof e.jsonPath?{path:e.jsonPath}:e.jsonPath;a.group=e.group||a.group||i,a.cycle=e.cycle||a.cycle||!1,a.reverse=e.reverse||a.reverse||!1,a.count=e.count||a.count||1;var o=a.group+"__"+a.path;return n[o]||(a.count>1?n[o]=t.JSONPath(a.path,r).slice(0,a.count):n[o]=t.JSONPath(a.path,r)),a.cycle||a.reverse?function(e,t){if(!Array.isArray(e))return e;var r=t?e.pop():e.shift();return t?e.unshift(r):e.push(r),r}(n[o],a.reverse):function(e){return Array.isArray(e)?_.pick(e):e}(n[o])}return Object.keys(e).forEach((function(t){e[t]=ue(e[t],r,n,t)})),e}function fe(e,t,r){if("[object Object]"!=={}.toString.call(t))throw new Error("Invalid input, expecting object but given "+typeof t);var n=a("refDepthMin")||0,i=a("refDepthMax")||3;try{var o=se({refs:e,schema:t,container:r,refDepthMin:n,refDepthMax:i}).resolveSchema,s=oe(H.clone(t),[],o);return a("resolveJsonPath")?ue(s):s}catch(u){throw u.path?new Error(u.message+" in /"+u.path.join("/")):u}}var ce=new q;function le(){ce.define("autoIncrement",(function(e,t){if(!this.offset){var r=t.minimum||1,n=r+s.MAX_NUMBER,i=e.initialOffset||t.initialOffset;this.offset=i||_.number(r,n)}return!0===e?this.offset++:t})),ce.define("sequentialDate",(function(e,t){if(this.now||(this.now=_.date()),e){if(t=this.now.toISOString(),-1===["seconds","minutes","hours","days","weeks","months","years"].indexOf(e=!0===e?"days":e))throw new Error("Unsupported increment by "+H.short(e));this.now.setTime(this.now.getTime()+_.date(e))}return t}))}function he(e,t){var r={};function n(e){if(e&&"object"==typeof e){if(Array.isArray(e))return e.forEach(n);var t=e.$id||e.id;"string"!=typeof t||r[t]||(r[t]=e),Object.keys(e).forEach((function(t){n(e[t])}))}}return Array.isArray(e)?e.forEach((function(e){r[e.$id||e.id]=e})):r=e||{},n(e),n(t),r}var pe=function(e,t,r){return pe.generate(e,t)};return pe.generate=function(e,t){return fe(he(t,e),e,ce)},pe.resolve=function(t,r,n){"string"==typeof r&&(n=r,r={}),n=(n=n||("undefined"!=typeof process?process.cwd():"")).replace(/\/+$/,"")+"/";var i=he(r,t),a={order:1,canRead:function(e){var t=e.url.replace("/:",":");return i[t]||i[t.split("/").pop()]},read:function(e,t){try{t(null,this.canRead(e))}catch(r){t(r)}}};return e.dereference(n,t,{resolve:{file:{order:100},http:{order:200},fixedRefs:a},dereference:{circular:"ignore"}}).then((function(e){return fe(i,e,ce)}))["catch"]((function(e){throw new Error("Error while resolving schema ("+e.message+")")}))},le(),pe.format=F,pe.option=a,pe.random=_,pe.extend=function(e,t){return ce.extend(e,t),pe},pe.define=function(e,t){return ce.define(e,t),pe},pe.reset=function(e){return ce.reset(e),le(),pe},pe.locate=function(e){return ce.get(e)},"undefined"!=typeof VERSION&&(pe.version=VERSION),pe}));